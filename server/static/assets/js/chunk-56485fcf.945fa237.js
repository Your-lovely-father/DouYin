(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56485fcf"],{"0e42":function(t,s,i){},"1cb8":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"spinner7"},[i("div",{staticClass:"spinner-container container1"},[i("div",{staticClass:"circle1"}),i("div",{staticClass:"circle2"}),i("div",{staticClass:"circle3"}),i("div",{staticClass:"circle4"})]),i("div",{staticClass:"spinner-container container2"},[i("div",{staticClass:"circle1"}),i("div",{staticClass:"circle2"}),i("div",{staticClass:"circle3"}),i("div",{staticClass:"circle4"})]),i("div",{staticClass:"spinner-container container3"},[i("div",{staticClass:"circle1"}),i("div",{staticClass:"circle2"}),i("div",{staticClass:"circle3"}),i("div",{staticClass:"circle4"})])])}],n={},c=n,o=(i("6aab"),i("2877")),l=Object(o["a"])(c,e,a,!1,null,"578604de",null);l.options.__file="loading.vue";s["a"]=l.exports},"3d6b":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("tip",{ref:"tip"}),i("my-list",{attrs:{Title:t.title},on:{scrollToEnd:t.scrollToEnd}},[t._l(t.list,function(s){return i("li",{key:s.userId,staticClass:"list-item",on:{click:function(i){t.chooseUser(i,s.userId)}}},[i("img",{staticClass:"avatar",attrs:{src:""+t.baseURL+s.userAvatar,width:"45",height:"45",alt:""}}),i("div",{staticClass:"main"},[i("p",{staticClass:"name"},[t._v(t._s(s.userNickname))]),i("p",{staticClass:"desc"},[t._v(t._s(s.userDesc))])]),"me"===t.$route.params.id?i("div",{staticClass:"btn btn-inactive",domProps:{innerHTML:t._s(s.bothStatus?"互相关注":"已关注")},on:{click:function(i){t.triggerFollow(i.target,s)}}}):"me"!==t.$route.params.id&&"me"!==s.myRelation?i("div",{staticClass:"btn",class:["follow","both"].includes(s.myRelation)?"btn-inactive":"btn-active",domProps:{innerHTML:t._s(t.getBtnHtml(s.myRelation))},on:{click:function(i){t.triggerFollow(i.target,s)}}}):t._e()])}),t.isLoading?i("loading"):i("no-more",{staticClass:"no-more"})],2)],1)},a=[],n=i("be94"),c=(i("6762"),i("2fdb"),i("cadf"),i("551c"),i("097d"),i("89d4")),o=i("41ea"),l=i("3e2c"),r=i("d94a"),d=i("2f62"),u=i("1cb8"),f=21,m={activated:function(){this.list=[],this.page=0,this.isEnd=!1,this.fetchInterestList()},data:function(){return{list:[],isLoading:!1,page:0,isEnd:!1,baseURL:o["a"],timer:null}},methods:{fetchInterestList:function(){var t=this;if(!this.isEnd){var s="me"===this.$route.params.id?this.loginInfo.userId:this.$route.params.id;this.isLoading=!0,this.page++,this.$axios.get("/api/user/".concat(s,"/Followers/page/").concat(this.page,"/").concat(this.loginInfo.userId)).then(function(s){t.isLoading=!1,s.data.data.length<f&&(t.isEnd=!0),t.list=t.list.concat(s.data.data)})}},triggerFollow:function(t,s){var i=this;this.timer||(this.timer=setTimeout(function(){i.$axios.get("/api/user/".concat(i.loginInfo.userId,"/triggerFollow/").concat(s.userId)).then(function(e){if("me"===i.$route.params.id)e.data.data.includes("取消")?(Object(l["a"])(t,"btn-active"),t.innerText="关注",i.$refs.tip.show("取关成功")):(Object(l["c"])(t,"btn-active"),t.innerText=s.bothStatus?"互相关注":"已关注",i.$refs.tip.show("关注成功"));else if(e.data.data.includes("取消"))switch(i.$refs.tip.show("取关成功"),s.myRelation){case"follow":s.myRelation="none";break;case"both":s.myRelation="fan";break}else switch(i.$refs.tip.show("关注成功"),s.myRelation){case"fan":s.myRelation="both";break;case"none":s.myRelation="follow";break}i.$socket.emit("sendTriggerFollow",{fromUserId:i.loginInfo.userId,toUserId:s.userId}),i.timer=null}).catch(function(t){i.$refs.tip.show("网络错误"),i.timer=null})},300))},chooseUser:function(t,s){t.target.className.includes("btn")||this.$router.push("/profile/".concat(s))},scrollToEnd:function(){this.fetchInterestList()},getBtnHtml:function(t){switch(t){case"fan":case"none":return"关注";case"follow":return"已关注";case"both":return"互相关注"}}},computed:Object(n["a"])({title:function(){return"me"===this.$route.params.id?"我关注的":"TA关注的"}},Object(d["c"])(["loginInfo"])),components:{MyList:c["a"],Loading:u["a"],NoMore:r["a"]}},h=m,p=(i("d25e"),i("2877")),v=Object(p["a"])(h,e,a,!1,null,"1c3a6b4a",null);v.options.__file="InterestList.vue";s["default"]=v.exports},"424a":function(t,s,i){},"6aab":function(t,s,i){"use strict";var e=i("0e42"),a=i.n(e);a.a},"89d4":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"myList"},[i("div",{staticClass:"topBar"},[i("span",{staticClass:"backbtn iconfont icon-left",on:{click:t.GoBack}}),i("p",{staticClass:"title"},[t._v(t._s(t.Title))])]),i("scroll",{staticClass:"scroll-wrap",class:{"scroll-wrap-bottom":t.needBottomMargin},attrs:{pullup:!0},on:{scrollToEnd:t.scrollToEnd}},[i("ul",[t._t("default")],2)])],1)},a=[],n=i("e9fc"),c={props:{Title:{type:String,default:""},needBottomMargin:{type:Boolean,default:!1}},methods:{GoBack:function(){this.$router.back()},scrollToEnd:function(){this.$emit("scrollToEnd")}},components:{Scroll:n["a"]}},o=c,l=(i("cfc8"),i("2877")),r=Object(l["a"])(o,e,a,!1,null,"1aedd296",null);r.options.__file="myList.vue";s["a"]=r.exports},cfc8:function(t,s,i){"use strict";var e=i("df3c"),a=i.n(e);a.a},d25e:function(t,s,i){"use strict";var e=i("424a"),a=i.n(e);a.a},df3c:function(t,s,i){}}]);